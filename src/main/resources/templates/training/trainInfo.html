<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<style>
	.hidden {
		display: none;
	}
	
	.noshow {
	position: relative;
    margin: 0;
    display: -moz-inline-stack;
    display: inline-block;
    text-decoration: none !important;
    border: 0;
    font-weight: normal;
    font-size: 11px;
    font-family: '돋움', Dotum, Tahoma, Arial, Gulim, sans-serif;
    white-space: nowrap;
    overflow: visible;
    color: #f2f2f2;
    line-height: 15px;
    background-color: hotpink;
    height: 14px;
    vertical-align: middle;
    background-position: left top;
    letter-spacing: -2px;
    padding-top: 1px;
    text-align: center;
    width: 40px;
    padding-right: 1px;
	}
	
	.isu_delay{
		
	position: relative;
    margin: 0;
    display: -moz-inline-stack;
    display: inline-block;
    text-decoration: none !important;
    border: 0;
    font-weight: normal;
    font-size: 11px;
    font-family: '돋움', Dotum, Tahoma, Arial, Gulim, sans-serif;
    white-space: nowrap;
    overflow: visible;
    color: #f2f2f2;
    line-height: 15px;
    background-color: mediumpurple;
    height: 14px;
    vertical-align: middle;
    background-position: left top;
    letter-spacing: -2px;
    padding-top: 1px;
    text-align: center;
    width: 40px;
    padding-right: 1px;
		
	}
	
</style>

<th:block th:replace="~{./include/layout :: setContent( ~{:: #contents})}">
	<div id="contents" tabindex="0">


		<div class="container">
			<!-- lnb -->
			<div id="lnb">
				<div class="lnb-tit lnb-bg2">
					<h2>나의 훈련정보</h2>
				</div>
				<ul class="lnb-menu">
					<li class="active">
						<a href="/dmobis/rfh/rgt/edutrasubjpsn/IvdTraScheDetail.do" title="훈련정보">훈련정보</a>
						<ul>
							<li class="active"><a href="/dmobis/rfh/rgt/edutrasubjpsn/IvdTraScheDetail.do"
									title="훈련정보">훈련정보</a></li>
							<li><a href="/dmobis/rfh/rgt/edutrasubjpsn/IvdPrtmsvcDetail.do" title="비상근 예비군">비상근 예비군</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="/dmobis/rfh/mpt/mypubannoun/MyPubAnnounList.do" title="소속부대 알림">소속부대 알림</a>
						<ul>
							<li><a href="/dmobis/rfh/mpt/mypubannoun/MyPubAnnounList.do" title="소속부대 공지사항">소속부대 공지사항</a>
							</li>
							<li><a href="/dmobis/rfh/mpt/tranotice/TraNoticeList.do" title="훈련안내">훈련안내</a></li>
							<li><a href="/dmobis/rfh/mpt/myquestans/MyQuestAnsList.do" title="나의 질의응답">나의 질의응답</a></li>
							<li><a href="/dmobis/rfh/mpt/myfreeboard/MyFreeBoardList.do" title="자유게시판">자유게시판</a></li>
						</ul>
					</li>
					<li><a href="myInfo" title="개인정보수정">개인정보수정</a></li>
					<li><a href="/dmobis/rfh/rrm/reserveforce/ReserveForcePrzdcr.do" title="예비군 상훈">예비군 상훈</a></li>
				</ul>
			</div>
			<!-- //lnb -->
			<!-- content -->
			<div id="content-wrap">
				<div class="location">Home &gt; 나의 훈련정보 &gt; 훈련정보 &gt;<span>훈련정보</span></div>
				<tr th:each="vo, status : ${list3}">
					<div class="content-tit">
						<h3>훈련정보</h3>
						<p class="sub-txt"></p>
					</div>
					<div class="sub-tit">
						<span class="txt-blue">[[${vo.name}]]</span> 님은 "2023"년 현재 <span class="txt-blue">예비군
							"[[${vo.m_history}]]"년차
						</span>
						입니다.
						아래는 <span class="txt-blue">'23년 훈련 내용</span>입니다.
					</div>
					<h4 class="cont-tit-h4">소속</h4>
					<table class="tbl type2">
						<caption>소속</caption>
						<colgroup>
							<col style="width:15%">
							<col style="width:10%">
							<col style="width:10%">
							<col style="width:10%">
							<col style="width:10%">
							<col style="width:10%">
							<col style="width:10%">
							<col style="width:10%">
							<col style="">
						</colgroup>
						<thead>
							<tr>
								<th scope="col">예비군부대</th>
								<th scope="col">소속</th>
								<th scope="col">계급</th>
								<th scope="col">군번</th>
								<th scope="col">성명</th>
								<th scope="col">군별</th>
								<th scope="col">연차</th>
								<th scope="col">동원구분</th>
								<th scope="col">비고</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>[[${vo.unit}]]<br>
									<strong>(02-879-2113)</strong>
								</td>
								<td>[[${vo.affiliation}]]</td>
								<td>[[${vo.m_rank}]]</td>
								<td>[[${vo.military_sn}]]</td>
								<td>[[${vo.name}]]</td>
								<td>[[${vo.m_kind}]]</td>
								<td>
									[[${vo.m_history}]]
								</td>
								<td>
									[[${vo.m_yesno}]]
								</td>
								<td>
									[[${vo.m_other}]]
								</td>
							</tr>
						</tbody>
					</table>
				</tr>

				<!--  종료 -->
				<!-- 
						
						1. 버튼 이미지 불러오기
						2. 경로 설정 -> 컨트롤러 만들기
						
					 -->
				<section class="pos-rel">
					<h4 class="cont-tit-h4">훈련내용(2023년)</h4>
					<div class="cont-tit-btn">
						<a href="/receipt/receiptView">
							<button type="button" class="btn-gradient normal"
								style="width: 100px; height: 20px; font-size: 11px" onclick="">훈련일정 자율선택</button>
						</a>
					</div>
					<table id="detailTb" class="tbl type2">
						<caption>훈련내용</caption>
						<colgroup>
							<col>
							<col style="width:12%">
							<col style="width:8%">
							<col style="width:8%">
							<col style="width:8%">
							<col style="width:8%">
							<col style="width:15%">
							<col style="width:10%">
						</colgroup>
						<thead>
							<tr>
								<th scope="col">구분</th>
								<th scope="col">훈련일자</th>
								<th scope="col">계획시간</th>
								<th scope="col">실시시간</th>
								<th scope="col">잔여시간</th>
								<th scope="col">훈련결과</th>
								<th scope="col">훈련장</th>
								<th scope="col">비고</th>
							</tr>
						</thead>
						<tbody>
							<tr>
							</tr>
							<tr th:each="vo, status : ${list2}">
								<!-- 구분 -->
								<td class="tal">[[${vo.p_kind}]]</td>
								<!-- 훈련일자 -->
								<td>[[${vo.p_regdate}]]</td>
								<!-- 계획시간 -->
								<td>
									<span class="state1">
									[[${vo.p_plantime}]]
									</span>
								</td>
								<!-- 실시시간 -->
								<td>[[${vo.p_playtime}]]</td>
								<!-- 잔여시간 -->
								<td>[[${vo.p_remaintime}]]</td>
								<!-- 훈련결과 -->
								<td>
									<span th:class="${vo.p_result == '무단불참' ? 'noshow' : ''}">
									<span th:class="${vo.p_result == '연기' ? 'isu_delay' : ''}">
									<span th:class="${vo.p_result == '이수' ? 'isu_delay' : ''}">
									[[${vo.p_result}]]
									</span>
								</td>
								<!-- 훈련장 -->
								<td>[[${vo.tp_location}]]</td>
								<!-- 비고비고 -->
								<td>[[${vo.p_other}]]</td>
							</tr>
						</tbody>
					</table>
				</section>
				<!--					
	
		1. id:detail2 테이블 열기버튼 누르기 전까지 숨겨야함 (기능 구현) -> 완성
		
		-->
				<section class="pos-rel">
					<h4 class="cont-tit-h4">훈련내용(2023년 이전) <button type="button" class="btn-gradient normal"
							style="width: 100px; height: 20px; font-size: 11px" onclick="openBtn()" id="btnText">이전훈련내용열기</button>
					</h4>

					<table  id="detail2" class="tbl type2 hidden">
						<caption>훈련내용</caption>
						<colgroup>
							<col>
							<col style="width:12%">
							<col style="width:8%">
							<col style="width:8%">
							<col style="width:8%">
							<col style="width:8%">
							<col style="width:15%">
							<col style="width:10%">
						</colgroup>
						<thead>
							<tr>
								<th scope="col">구분</th>
								<th scope="col">훈련일자</th>
								<th scope="col">계획시간</th>
								<th scope="col">실시시간</th>
								<th scope="col">잔여시간</th>
								<th scope="col">훈련결과</th>
								<th scope="col">훈련장</th>
								<th scope="col">비고</th>
							</tr>
						</thead>
						<tbody>
							<tr>
							</tr>
							
							<!-- 이수,연기,무단불참 별 다른 css -->
							
							<tr th:each="vo, status : ${list}">
								<!-- 구분 -->
								<td class="tal">[[${vo.p_kind}]]</td>
								<!-- 훈련일자 -->
								<td>[[${vo.p_regdate}]]</td>
								<!-- 계획시간 -->
								<td>
									<span class="state1">
									[[${vo.p_plantime}]]
									</span>
								</td>
								<!-- 실시시간 -->
								<td>[[${vo.p_playtime}]]</td>
								<!-- 잔여시간 -->
								<td>[[${vo.p_remaintime}]]</td>
								<!-- 훈련결과 -->
								<td>
									<span th:class="${vo.p_result == '무단불참' ? 'noshow' : ''}">
									<span th:class="${vo.p_result == '연기' ? 'isu_delay' : ''}">
									<span th:class="${vo.p_result == '이수' ? 'isu_delay' : ''}">
									[[${vo.p_result}]]
									</span>
								</td>
								<!-- 훈련장 -->
								<td>[[${vo.tp_location}]]</td>
								<!-- 비고비고 -->
								<td>[[${vo.p_other}]]</td>
							</tr>
						</tbody>
					</table>


					<div class="state-list">
						<span class="state3-sm"> 훈련일정 변경불가</span>
						<span class="state2-sm"> 훈련일정 변경가능</span>
						<span class="state1-sm"> 훈련일정 종료</span>
					</div>

				</section>
			</div>
			<!-- //content -->
		</div>
	</div>
	</div>
	
</th:block>

<script th:inline="javascript">

	// 이전 훈련정보 열기
	function openBtn() {
		
		
		var btnText = document.getElementById("btnText");
		var detail2 = document.getElementById("detail2");
		
		if (detail2.classList.contains("hidden")) {
			detail2.classList.remove("hidden");
			btnText.innerHTML = "이전훈련정보닫기"
		} else {
			detail2.classList.add("hidden");
			btnText.innerHTML = "이전훈련정보열기"
		}

	}
	
	//수정완료 알림창
	var msg = '[[${msg}]]';

	if (msg != 'null') {
		alert(msg);
	}




</script>

</html>